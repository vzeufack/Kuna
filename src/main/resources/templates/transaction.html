<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">

<head>
</head>

<body>	
	<!-- Add transaction modal -->
	<div th:fragment = "add-transaction-modal (category_id)" class="modal fade" th:id="add-transaction-modal-+${category.id}" tabindex="-1" role="dialog" aria-labelledby="addTransactionModal" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title bree-serif-normal">Add transaction</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <form th:id="createTransactionForm+${category.id}">
		      <div class="modal-body">
				<div class="form-group">
					<label for="date">Transaction date</label> 
					<input type="date" class="form-control" name="date" th:value="${#dates.format(#dates.createNow() , 'YYYY-MM-dd')}">
				</div>
				<div class="form-group">
					<label for="amount">Amount</label>
					<input type="number" step="any" class="form-control" name="amount" placeholder="0.00">
				</div>
				<div class="form-group">
					<label for="name">Payment method</label>
					<select class="form-control" name="paymentMethod">
						<option value="0">select option</option>
					    <option th:each="paymentMethod : ${paymentMethods}" th:value="${paymentMethod.id}" th:text="${paymentMethod.name}"></option>
					</select>
				</div>
				<div class="form-check form-switch text-right">
				  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" name="isSettled">
				  <label class="form-check-label" for="flexSwitchCheckDefault">Reimbursed</label>
				</div>
				<div class="form-group">
					<label for="note">Note</label><br>
					<textarea name="note" style="width:100%;" rows="4"></textarea>
				</div>
		      </div>		      
		      <div class="modal-footer">
		        <button th:id="|create-transaction-btn-${group.id}-${category.id}|" class="btn btn-primary col-md-3 ml-auto">Submit</button>
		      </div>
	      </form>
	    </div>
	  </div>
	</div>
	
	<!-- Edit transaction modal -->
	<div th:fragment = "edit-transaction-modal (id)" class="modal fade" th:id="edit-transaction-modal-+${transaction.id}" tabindex="-1" role="dialog" aria-labelledby="editTransactionModal" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title bree-serif-normal">Edit transaction</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <form th:id="editTransactionForm+${transaction.id}">
		      <div class="modal-body">
				 <div class="form-group">
					<label for="date">Transaction date</label> 
					<input type="date" class="form-control" name="date" th:value="${transaction.date}">
				</div>
				<div class="form-group">
					<label for="amount">Amount</label>
					<input type="number" step="any" class="form-control" name="amount" placeholder="0.00" th:value="${transaction.amount}">
				</div>
				<div class="form-group">
					<label for="name">Payment method</label>
					<select class="form-control" name="paymentMethod">
						<option value="0">select option</option>
					    <option th:each="paymentMethod : ${paymentMethods}" th:value="${paymentMethod.id}" th:text="${paymentMethod.name}" th:selected="(${transaction.paymentMethod.id} == {paymentMethod.id})"></option>
					</select>
				</div>
				<div class="form-check form-switch text-right">
				  <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" name="isSettled" th:value="${transaction.isSettled}">
				  <label class="form-check-label" for="flexSwitchCheckDefault">Reimbursed</label>
				</div>
				<div class="form-group">
					<label for="note">Note</label><br>
					<textarea name="note" style="width:100%;" rows="4" th:value="${transaction.note}"></textarea>
				</div>
		      </div>		      
		      <div class="modal-footer">
		        <button th:id="|edit-transaction-btn-${group.id}-${category.id}-${transaction.id}|" class="btn btn-primary col-md-3 ml-auto">Submit</button>
		      </div>
	      </form>
	    </div>
	  </div>
	</div>
	
	<!-- Delete transaction modal -->
	<div th:fragment = "delete-transaction-modal (id)" class="modal fade" th:id="|delete-transaction-modal-${transaction.id}|">
	  <div class="modal-dialog modal-dialog-centered">
	    <div class="modal-content">
	      <form th:id="|deleteTransactionForm${transaction.id}|">
		      <div class="modal-body text-center">
		        Are you sure you want to delete this transaction?
		      </div>
		      <div class="modal-footer">
		        <button th:id="|delete-transaction-btn-${group.id}-${category.id}-${transaction.id}|" class="btn btn-danger col-md-3 ml-auto">Delete</button>
		      </div>
		  </form>
	    </div>
	  </div>
	</div>
</body>

</html>